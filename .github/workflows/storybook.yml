name: storybook-deploy
on:
    push:
    pull_request:

permissions: # so we can upload the storybook
  contents: write

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - uses: actions/setup-node@v4
              with:
                node-version: lts/*
            - run: npm ci
            - run: npm run storybook:build
            - uses: JamesIves/github-pages-deploy-action@v4
              # Build storybook on every push, but only deploy on main branch.
              if: github.ref == 'refs/heads/main'
              with:
                folder: 'storybook-static'
    